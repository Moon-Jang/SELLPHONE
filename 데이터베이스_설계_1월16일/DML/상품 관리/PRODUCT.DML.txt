-- *** --
-- [8] 상품 - 생성, 수정, 삭제, 조회 기능
-- [8]을 하기 위해선 연결되어 있는 외래키 값을 채워줘야 한다.( 소분류번호, 판매자 번호)

--HIGHCATEGORY 대분류 생성
-- DROP SEQUENCE HIGH_NO;
CREATE SEQUENCE HIGH_NO
INCREMENT BY 1
START WITH 1;

-- DELETE FROM HIGHCATEGORY
-- WHERE HIGHCATEGORY_IDX > 999;

INSERT INTO HIGHCATEGORY VALUES(HIGH_NO.NEXTVAL,'5G핸드폰');
INSERT INTO HIGHCATEGORY VALUES(HIGH_NO.NEXTVAL,'핸드폰');
INSERT INTO HIGHCATEGORY VALUES(HIGH_NO.NEXTVAL,'악세사리');
--확인
SELECT * FROM HIGHCATEGORY;

--LOWCATEGORY 소분류 생성
--DROP SEQUENCE LOW_NO;
CREATE SEQUENCE LOW_NO
INCREMENT BY 1
START WITH 1;

--DELETE FROM LOWCATEGORY
--WHERE LOWCATEGORY_IDX < 5 ;

INSERT INTO LOWCATEGORY VALUES(LOW_NO.NEXTVAL,1,'삼성');
INSERT INTO LOWCATEGORY VALUES(1,1,'샤오미'); //오류 기본키 확인
INSERT INTO LOWCATEGORY VALUES(LOW_NO.NEXTVAL,3,'애플');
--확인
SELECT * FROM  LOWCATEGORY;

-- SELLER 판매자 번호
DROP SEQUENCE SEL_NO;
CREATE SEQUENCE SEL_NO
INCREMENT BY 1
START WITH 1; // 시퀀스 임의로 지정

INSERT INTO SELLER VALUES(SEL_NO.NEXTVAL,'판매자ID','PASSWORD',11,'테스트주식회사','경기도안양시','test@tes.co','03177','판매업','2020-02-02');
-- 확인
SELECT * FROM SELLER;

--PRODUCT 상품, 생성, 수정, 삭제, 조회 기능 
-- 시퀀스 연결
--DROP SEQUENCE PRO_NO;
CREATE SEQUENCE PRO_NO
INCREMENT BY 1
START WITH 1;
-- 상품 INSERT
INSERT INTO PRODUCT VALUES(PRO_NO.NEXTVAL,'갤럭시노트9','2020년 최대의 폰','image',990000,'S급','2020-01-01',5,1,1,1);
SELECT * FROM PRODUCT;
-- 상품 수정 
UPDATE PRODUCT
    SET product_name = '갤럭시S11'
WHERE PRODUCT_IDX = 1 ;
SELECT * FROM PRODUCT;
-- 상품 삭제
DELETE FROM PRODUCT
WHERE PRODUCT_IDX = 1;
SELECT * FROM PRODUCT;
-- 상품 조회
SELECT * FROM PRODUCT
    WHERE product_name = '갤럭시S11';